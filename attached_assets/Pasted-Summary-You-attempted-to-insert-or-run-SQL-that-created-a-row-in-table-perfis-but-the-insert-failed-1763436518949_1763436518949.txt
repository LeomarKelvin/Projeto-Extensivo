Summary
You attempted to insert or run SQL that created a row in table perfis but the insert failed because the user_id column is declared NOT NULL and the statement provided a NULL value for it. Error shows the failing row: (id=26, user_id=NULL, email=pizzaria@saborarte.com [blocked], name=José da Silva, role=loja, created_at=..., slug=alagoa-nova, phone=NULL).

Below are the most likely causes and step-by-step ways to debug and fix it.

Likely causes
The INSERT did not include user_id, and the column has no DEFAULT.
The INSERT included user_id but the expression evaluated to NULL (e.g., SELECT that returned NULL, use of auth.uid() returned NULL in server context).
A trigger or rule overwrote/cleared user_id during insert.
A bulk INSERT or COPY provided fewer columns or wrong column order, causing mismatch.
You're relying on a generated value (sequence, FK from another table) that failed.
Immediate checks (run these locally / in SQL editor)
Confirm table definition for perfis:

SHOW the CREATE TABLE or use:
In psql: \d+ perfis
Or query information_schema: SELECT column_name, is_nullable, column_default FROM information_schema.columns WHERE table_name='perfis';
Verify user_id is NOT NULL and if it has default or FK.
Inspect the failing INSERT statement (or the SQL snippet you provided). Common mistakes:

INSERT INTO perfis (email, name, role, ...) VALUES (...) — omitted user_id.
INSERT INTO perfis VALUES (...) — wrong column order. Prefer explicit column list.
If you used auth.uid() or auth.jwt() in SQL (policies or default), verify request context:

auth.uid() returns NULL for requests without an authenticated JWT (e.g., running from SQL editor or unauthenticated client).
If you expected auth.uid(), test with a real authenticated request or provide the value explicitly.
Check triggers on the table:

List triggers: in psql \d perfis or query pg_trigger/pg_proc to see functions executed on INSERT/BEFORE INSERT that may set or nullify user_id.
If INSERT comes from SELECT (INSERT ... SELECT ...), run the SELECT alone to see which rows have NULL user_id.

Fixes (choose the appropriate one)
A. Provide user_id in the INSERT

Best when the column must reference a real user. Example pattern (use your real values): INSERT INTO perfis (user_id, email, name, role, created_at, slug, phone) VALUES ('', 'pizzaria@saborarte.com [blocked]', 'José da Silva', 'loja', NOW(), 'alagoa-nova', NULL);
B. Use DEFAULT (only if sensible)

If you want a default user id (rare), add DEFAULT and/or set column default: ALTER TABLE perfis ALTER COLUMN user_id SET DEFAULT ''; (Use carefully — better to explicitly supply correct user id.)
C. Allow NULL (if user_id is optional)

Only if business logic allows missing user: ALTER TABLE perfis ALTER COLUMN user_id DROP NOT NULL;
D. Ensure auth context when relying on auth.uid()

If your insert relies on auth.uid() in a trigger or DEFAULT, ensure the request is authenticated (send Authorization Bearer token). For testing in SQL editor, auth.uid() will be NULL.
E. Fix triggers or insert flow

If a trigger incorrectly sets user_id to NULL, edit the trigger function to populate or preserve it.
If using INSERT ... SELECT, ensure the SELECT returns a non-null user_id (e.g., coalesce or join to users table).
F. Use INSERT ... ON CONFLICT/UPSERT carefully

If upserting, ensure the expression used to compute excluded.user_id or updates does not set it to NULL.
How I can help now
If you paste the SQL snippet (the INSERT or the procedure/trigger creating the row) I will point exactly where it produces NULL and give corrected SQL.
If you want, paste the table DDL for perfis (output of \d+ perfis or information_schema query) and I’ll suggest the minimal safe fix.
If you suspect triggers, paste trigger function code and I’ll review for logic that can nullify user_id.
Provide the SQL you ran (or the DDL and trigger code) and I’ll produce a precise fix.